(function(e,i){var a,b;var f=function(){b=new google.maps.LatLng(37.544577320855815,127.02392578125);a=new google.maps.Map(document.getElementById("map"),{zoom:13,center:b,mapTypeId:google.maps.MapTypeId.ROADMAP,disableDoubleClickZoom:true});
};var n=e("#SearchFormSpatial");var o=e("#SearchFormFormula");var j=e("#SearchFormAutocomplete");var h=null;var m=false;var l=null;var d=function(g){if(m){return;
}m=true;e.ajax({type:"GET",url:"http://localhost:5000/ajax/getPolygon",data:{idx:g},success:function(t){if(t.result==false){return;}if(t.result.length==0){return;
}var s=t.result;var u=[];var q=[];var p=[];for(var r in s){if(r==0){q=[s[r][0],s[r][1]];p=[s[r][0],s[r][1]];}else{if(q[0]>s[r][0]){q[0]=s[r][0];}if(p[0]<s[r][0]){p[0]=s[r][0];
}if(q[1]>s[r][1]){q[1]=s[r][1];}if(p[1]<s[r][1]){p[1]=s[r][1];}}u.push(new google.maps.LatLng(s[r][0],s[r][1]));}if(l!==null){(function(v){v.setMap(null);
})(l);}l=new google.maps.Polygon({paths:u,strokeColor:"#0000ff",strokeOpacity:0.8,strokeWeight:2,fillColor:"#0000ff",fillOpacity:0.35});l.setMap(a);a.panToBounds(new google.maps.LatLngBounds(new google.maps.LatLng(q[0],q[1]),new google.maps.LatLng(p[0],p[1])));
m=false;}});};var k=function(){console.log(n.find("input.spatial-name"));};j.find("ul").on("click","li",function(){var g=e(this).data("idx");h.data("idx",g);
h.val(e(this).data("name"));j.find("ul").empty();k();d(g);});e("#SearchForm").bind("submit",function(g){g.preventDefault();e.ajax({type:"GET",url:"http://localhost:5000/ajax/searchResult",data:e(this).serialize(),success:function(p){if(p.result==false){return;
}if(p.result.length==0){return;}console.log(p.result);}});});n.on("keyup","input",function(){h=e(this);var g=e(this).val();j.css("left",e(this).offset().left);
i.autocompleteSpatial(g);});var c=n.html();n.on("change","select",function(){if(e(this).find("option:selected").val()==="none"){return;}n.append(n.html());
});f();})(jQuery,window);